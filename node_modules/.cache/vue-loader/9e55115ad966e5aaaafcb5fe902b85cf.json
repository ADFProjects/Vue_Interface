{"remainingRequest":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/src/views/Permissions.vue?vue&type=style&index=4&id=e409e1a4&lang=css&scoped=true&","dependencies":[{"path":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/src/views/Permissions.vue","mtime":1625567631610},{"path":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/css-loader/dist/cjs.js","mtime":1615663859709},{"path":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1615663860371},{"path":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/postcss-loader/src/index.js","mtime":1615663860281},{"path":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/cache-loader/dist/cjs.js","mtime":1615663822203},{"path":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/vue-loader/lib/index.js","mtime":1615663860371}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgo6OnYtZGVlcCB0aCAubXktYXBwbGljYXRpb24gewogIGNvbG9yOiByZ2IoMzYsIDIyNCwgMTkzKSAhaW1wb3J0YW50OwogIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7CiAgb3BhY2l0eTogMC44ICFpbXBvcnRhbnQ7CiAgbGV0dGVyLXNwYWNpbmc6IDAuM3B4OwogIGZvbnQtZmFtaWx5OiAiQWxtYXJhaSIsIHNhbnMtc2VyaWY7Cn0KOjp2LWRlZXAgLnYtZGF0YS10YWJsZS1oZWFkZXIgdGggewogIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjIgIWltcG9ydGFudDsKICBmb250LXdlaWdodDogYm9sZCAhaW1wb3J0YW50Owp9Cjo6di1kZWVwIHRoIHsKICBjb2xvcjogIzI2MjYyNiAhaW1wb3J0YW50OwogIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7CiAgb3BhY2l0eTogMC44ICFpbXBvcnRhbnQ7CiAgbGV0dGVyLXNwYWNpbmc6IDAuM3B4Owp9Cjo6di1kZWVwIHRkIHsKICBjb2xvcjogIzU5NTk1OTsKICBmb250LXNpemU6IDFweDsKfQoudHJ1bmNhdGUgewogIG1heC13aWR0aDogMXZ3OwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKfQouY2hlY2tCb3hzLS10ZXh0ID4+PiBsYWJlbCB7CiAgZm9udC1mYW1pbHk6ICJBbG1hcmFpIiwgc2Fucy1zZXJpZiAhaW1wb3J0YW50OwogIGZvbnQtc2l6ZTogMC45ZW07Cn0KLnYtdGV4dC1maWVsZCA+Pj4gbGFiZWwgewogIGZvbnQtZmFtaWx5OiAiQWxtYXJhaSIsIHNhbnMtc2VyaWYgIWltcG9ydGFudDsKICBmb250LXNpemU6IDAuOWVtOwp9Ci52LXRvb2x0aXBfX2NvbnRlbnQgewogIGZvbnQtc2l6ZTogMTRweCAhaW1wb3J0YW50OwogIG9wYWNpdHk6IDAuOCAhaW1wb3J0YW50OwogIHBvaW50ZXItZXZlbnRzOiBhdXRvOwogIGNvbG9yOiB3aGl0ZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDA0MDQwOwp9Cg=="},{"version":3,"sources":["Permissions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6cA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Permissions.vue","sourceRoot":"src/views","sourcesContent":["<template class=\"my-application\">\n  <div id=\"app\" class=\"d-flex justify-center my-application\">\n    <v-app id=\"inspire\" class=\"my-application addBackground\">\n      <v-main class=\"my-application\">\n        <v-container class=\"my-application\">\n          <v-app-bar\n            elevation=\"20\"\n            style=\"border-radius: 4px; opacity: 0.9 !important\"\n            width=\"1160\"\n            color=\"#28714e\"\n            dark\n            class=\"mb-1 my-application\"\n          >\n            <v-tooltip bottom>\n              <template #activator=\"{ on }\">\n                <v-img\n                  v-on=\"on\"\n                  src=\"~@/assets/Permission.png\"\n                  alt=\"InboundImage\"\n                  max-height=\"60\"\n                  max-width=\"43\"\n                ></v-img>\n              </template>\n              <span class=\"my-application\">الصلاحيات</span>\n            </v-tooltip>\n          </v-app-bar>\n\n          <v-card>\n            <v-form\n              class=\"my-application elevation-10\"\n              ref=\"form\"\n              v-model=\"valid\"\n              lazy-validations\n            >\n              <v-container>\n                <v-card>\n                  <v-card-title class=\"grey--text text--darken-2\">\n                    الصلاحيات :</v-card-title\n                  >\n                  <v-container>\n                    <v-radio-group v-model=\"types\" @change=\"typeToggle()\">\n                      <v-row>\n                        <v-col v-for=\"n in permissionsTypes\" :key=\"n\">\n                          <v-radio\n                            :label=\"n\"\n                            :value=\"n\"\n                            color=\"#28714e\"\n                          ></v-radio>\n                        </v-col>\n                      </v-row>\n                    </v-radio-group>\n                  </v-container>\n                </v-card>\n              </v-container>\n              <v-container v-show=\"!permissionsToggle\">\n                <v-card>\n                  <v-card-title class=\"grey--text text--darken-2\">\n                    الإدارة / القسم :</v-card-title\n                  >\n                  <v-container>\n                    <v-row>\n                      <v-col>\n                        <v-autocomplete\n                          label=\"الإدارة\"\n                          v-model=\"department\"\n                          :items=\"departmentList\"\n                          item-text=\"GehaName\"\n                          item-value=\"DeptNo\"\n                          @change=\"getSections(department)\"\n                          outlined\n                        >\n                        </v-autocomplete>\n                      </v-col>\n                      <v-col v-show=\"sectionToggle\">\n                        <v-autocomplete\n                          label=\"القسم\"\n                          v-model=\"section\"\n                          :items=\"sectionList\"\n                          item-text=\"DEPTNAME\"\n                          item-value=\"DEPTNO\"\n                          @change=\"getEmplyee('9090', section)\"\n                          outlined\n                        >\n                        </v-autocomplete>\n                      </v-col>\n                    </v-row>\n                  </v-container>\n                </v-card>\n              </v-container>\n              <v-container v-show=\"permissionsToggle\">\n                <v-card>\n                  <v-card-title class=\"grey--text text--darken-2\">\n                    الفرع / المكتب :</v-card-title\n                  >\n                  <v-container>\n                    <v-row>\n                      <v-col>\n                        <v-autocomplete\n                          label=\"الفرع\"\n                          v-model=\"branch\"\n                          :items=\"branchList\"\n                          item-text=\"G1050CODNAM\"\n                          item-value=\"G1050CODNO\"\n                          @change=\"getOffice(branch)\"\n                          outlined\n                        >\n                        </v-autocomplete>\n                      </v-col>\n                      <v-col>\n                        <v-autocomplete\n                          label=\"المكتب\"\n                          v-model=\"office\"\n                          :items=\"officeList\"\n                          item-text=\"G1050CODNAM\"\n                          item-value=\"G1050CODNO\"\n                          @change=\"getEmplyee(office , '')\"\n                          outlined\n                        >\n                        </v-autocomplete>\n                      </v-col>\n                    </v-row>\n                  </v-container>\n                </v-card>\n              </v-container>\n              <v-container v-show=\"empToggle\">\n                <v-card>\n                  <v-data-table\n                    :headers=\"headers\"\n                    :items=\"emplyeeList\"\n                    :items-per-page=\"5\"\n                  ></v-data-table>\n                  <v-container>\n                    <div class=\"text-center\">\n                      <v-btn\n                        rounded\n                        color=\"#3d7f5f\"\n                        dark\n                        large\n                        width=\"200\"\n                        @click=\"savePermissions\"\n                      >\n                        <h5\n                          class=\"my-10 my-application\"\n                          style=\"color: white; font-size: 14px\"\n                        >\n                          حفظ\n                        </h5>\n                      </v-btn>\n                    </div>\n                  </v-container>\n                </v-card>\n              </v-container>\n            </v-form>\n          </v-card>\n        </v-container>\n      </v-main>\n    </v-app>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport VTooltip from \"v-tooltip\";\n\nVue.use(VTooltip);\nexport default {\n  data() {\n    return {\n      inbound: \"10A;10E;10S;12S;14S;10D;\",\n      outbound: \"11A;11E;11S;11D;13S;15S;\",\n      admin: \"10A;10E;10S;12S;14S;10D;11A;11E;11S;11D;13S;15S;\",\n      empToggle: false,\n      sectionToggle: true,\n      office: \"\",\n      officeList: \"\",\n      section: \"\",\n      sectionList: \"\",\n      branch: \"\",\n      branchList: \"\",\n      department: \"\",\n      departmentList: \"\",\n      valid: true,\n      saveIndex: -1,\n      emplyeeList: [],\n      headers: [\n        {\n          text: \"اسم الموظف\",\n          align: \"right\",\n          sortable: false,\n          value: \"EMP_NAME\",\n        },\n        {\n          text: \"الصلاحيات\",\n          value: \"actions\",\n          sortable: false,\n          align: \"right\",\n        },\n      ],\n      saveCheckbox: {\n        outBound: \"\",\n        inBound: \"\",\n        outInquiry: \"\",\n        inInquiry: \"\",\n        outInReports: \"\",\n      },\n      types: \"المركز الرئيسي\",\n      permissionsTypes: [\"المركز الرئيسي\", \"الفروع والمكاتب\"],\n      permissionsToggle: false,\n      items: [\n        {\n          name: \"Peter Griffin\",\n          email: \"sexypeter@hotmail.com\",\n        },\n        {\n          name: \"Lois Griffin\",\n          email: \"loisgriffin@hotmail.com\",\n        },\n        {\n          name: \"Brian Griffin\",\n          email: \"coolbrian@gmail.com\",\n        },\n        {\n          name: \"Chris Griffin\",\n          email: \"chr1sgrif@hotmail.com\",\n        },\n        {\n          name: \"Meg\",\n          email: \"shutupmeg@hotmail.com\",\n        },\n      ],\n    };\n  },\n  mounted() {\n    Vue.axios\n      .get(\"https://emp.adf.gov.sa/cms7514254/api/cms/GetDept?DeptType=1\")\n      .then((resp) => {\n        this.departmentList = resp.data;\n      });\n\n    Vue.axios\n      .get(\"https://emp.adf.gov.sa/cms7514254/api/cms/GetBranches\")\n      .then((resp) => {\n        this.branchList = resp.data;\n      });\n  },\n  methods: {\n    getOffice(id) {\n      this.reset();\n      Vue.axios\n        .post(\"https://emp.adf.gov.sa/cms7514254/api/cms/GetOffices\", {\n          DebId: id,\n        })\n        .then((resp) => {\n          console.log(resp.data);\n          console.log(\"oooo\");\n          this.officeList = resp.data;\n        });\n    },\n    getSections(id) {\n      this.reset();\n      Vue.axios\n        .post(\n          \"https://emp.adf.gov.sa/cms7514254/api/cms/GetSectionsByDeprtmentId\",\n          {\n            DebId: id,\n          }\n        )\n        .then((resp) => {\n          this.sectionList = resp.data;\n\n          if (resp.data.length == 0) {\n            this.sectionToggle = false;\n            this.getEmplyee(\"9090\", id);\n          } else {\n            this.sectionToggle = true;\n          }\n        });\n    },\n    getEmplyee(depId, secId) {\n      Vue.axios\n        .post(\n          \"https://emp.adf.gov.sa/cms7514254/api/cms/GetEmployeeInformation\",\n          {\n            DebId: depId,\n            SectionId: secId,\n          }\n        )\n        .then((resp) => {\n          console.log(\"get emp\");\n          this.emplyeeList = resp.data;\n          console.log(resp.data);\n          this.empToggle = true;\n        });\n    },\n    getEmplyeeOffice(id) {\n      Vue.axios\n        .post(\n          \"https://emp.adf.gov.sa/cms7514254/api/cms/GetEmployeeInformation\",\n          {\n            DebId: this.branch,\n            SectionId: id,\n          }\n        )\n        .then((resp) => {\n          console.log(\"get emp\");\n          this.emplyeeList = resp.data;\n          this.empToggle = true;\n        });\n    },\n    typeToggle() {\n      this.empToggle = false;\n      this.section = null;\n      this.office = null;\n      this.permissionsToggle = !this.permissionsToggle;\n    },\n    reset() {\n      //this.emplyeeList = [];\n      //this.sectionList = [];\n     // this.officeList = [];\n     this.empToggle = false;\n    },\n    savePermissions(username, type) {\n      var p;\n\n      if (type.localeCompare(\"in\") == 0) {\n        console.log(\"in\");\n        p = this.inbound;\n      } else if (type.localeCompare(\"out\") == 0) {\n        console.log(\"out\");\n        p = this.outbound;\n      } else if (type.localeCompare(\"admin\") == 0) {\n        console.log(\"admin\");\n        p = this.admin;\n      }\n\n      Vue.axios\n        .post(\"https://emp.adf.gov.sa/cms7514254/api/cms/SavePermission\", {\n          Username: username,\n          Permissions: p,\n        })\n        .then((resp) => {\n          console.log(resp.data);\n          console.log(\"permissions saved\");\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"css\" scoped>\n@media print {\n  @page {\n    size: 30mm 21mm;\n    margin: 0;\n    padding: 0;\n  }\n}\n.v-radio >>> label {\n  font-family: \"Almarai\", sans-serif !important;\n  font-size: 0.9em;\n}\n.checkBoxs--text >>> label {\n  font-family: \"Almarai\", sans-serif !important;\n  font-size: 0.9em;\n  color: red;\n}\n.v-text-field >>> label {\n  font-family: \"Almarai\", sans-serif !important;\n  font-size: 0.9em;\n}\n.v-tooltip__content {\n  font-size: 14px !important;\n  opacity: 0.8 !important;\n  pointer-events: auto;\n  color: white;\n  background-color: #404040;\n}\n</style>\n<style>\n.v-text-field input {\n  font-size: 0.9em;\n}\n.inputNumber input[type=\"number\"] {\n  -moz-appearance: textfield;\n}\n.inputNumber input::-webkit-outer-spin-button,\n.inputNumber input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n}\n.custom-loader {\n  animation: loader 1s infinite;\n  display: flex;\n}\n@-moz-keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@-o-keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.v-autocomplete-content {\n  direction: rtl;\n  color: blue;\n}\n.text {\n  font-size: 16px;\n}\n</style>\n<style scoped>\n.addBackground {\n  background: url(\"../assets/Background-adf.png\");\n  background-size: 100% 100%;\n  background-position: center;\n  /* height: 100vh; */\n}\n</style>\n<style lang=\"scss\">\n#tdAll {\n  font-size: 12px;\n  font-family: \"Almarai\", sans-serif !important;\n}\n#rowCols:hover {\n  cursor: pointer;\n}\n.v-text-field input {\n  font-size: 0.9em;\n}\n.v-data-table > .v-data-table__wrapper > table > thead > tr > th {\n  font-size: 16px !important;\n  background-color: #f2f2f2;\n  font-weight: bold;\n}\n</style>\n\n<style lang=\"css\" scoped>\n::v-deep th .my-application {\n  color: rgb(36, 224, 193) !important;\n  font-weight: bold !important;\n  opacity: 0.8 !important;\n  letter-spacing: 0.3px;\n  font-family: \"Almarai\", sans-serif;\n}\n::v-deep .v-data-table-header th {\n  background-color: #f2f2f2 !important;\n  font-weight: bold !important;\n}\n::v-deep th {\n  color: #262626 !important;\n  font-weight: bold !important;\n  opacity: 0.8 !important;\n  letter-spacing: 0.3px;\n}\n::v-deep td {\n  color: #595959;\n  font-size: 1px;\n}\n.truncate {\n  max-width: 1vw;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.checkBoxs--text >>> label {\n  font-family: \"Almarai\", sans-serif !important;\n  font-size: 0.9em;\n}\n.v-text-field >>> label {\n  font-family: \"Almarai\", sans-serif !important;\n  font-size: 0.9em;\n}\n.v-tooltip__content {\n  font-size: 14px !important;\n  opacity: 0.8 !important;\n  pointer-events: auto;\n  color: white;\n  background-color: #404040;\n}\n</style>\n\n<style scoped>\n.addBackground {\n  background: url(\"../assets/Background-adf.png\");\n  background-size: 100% 100%;\n  background-position: center;\n  /* height: 100vh; */\n}\n</style>\n<style>\n#checkboxLabel {\n  color: rgb(114, 111, 111);\n  font-size: 16px;\n  margin-top: 10px;\n}\n#checkboxDiv {\n  padding-right: 150px;\n}\n</style>\n"]}]}