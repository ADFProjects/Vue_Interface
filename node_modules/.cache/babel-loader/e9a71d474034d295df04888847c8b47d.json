{"remainingRequest":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/babel-loader/lib/index.js!/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/@koumoul/vjsf/lib/mixins/FileProperty.js","dependencies":[{"path":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/@koumoul/vjsf/lib/mixins/FileProperty.js","mtime":499162500000},{"path":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/cache-loader/dist/cjs.js","mtime":1612424882477},{"path":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/babel-loader/lib/index.js","mtime":1612424882354}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9yYWdoYWRheml6L0Rlc2t0b3AvQURGL0NNUy9WdWVfSW50ZXJmYWNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9yYWdoYWRheml6L0Rlc2t0b3AvQURGL0NNUy9WdWVfSW50ZXJmYWNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3JhZ2hhZGF6aXovRGVza3RvcC9BREYvQ01TL1Z1ZV9JbnRlcmZhY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKdmFyIGdldEZpbGVEYXRhVXJsID0gZnVuY3Rpb24gZ2V0RmlsZURhdGFVcmwoZmlsZSkgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHJlc29sdmUocmVhZGVyLnJlc3VsdCk7CiAgICB9OwoKICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogIH0pOwp9OwoKdmFyIGdldEZpbGVSZXN1bHQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGZpbGUsIHNjaGVtYSwgZmlsZXNBc0RhdGFVcmwpIHsKICAgIHZhciBkYXRhLCBkYXRhVXJsOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBkYXRhID0gZmlsZTsKCiAgICAgICAgICAgIGlmICghKHNjaGVtYS50eXBlID09PSAnc3RyaW5nJyB8fCBzY2hlbWEucHJvcGVydGllcyAmJiBzY2hlbWEucHJvcGVydGllcy5kYXRhICYmIHNjaGVtYS5wcm9wZXJ0aWVzLmRhdGEudHlwZSA9PT0gJ3N0cmluZycpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gZ2V0RmlsZURhdGFVcmwoZmlsZSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBkYXRhVXJsID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgZGF0YSA9IGZpbGVzQXNEYXRhVXJsID8gZGF0YVVybCA6IGRhdGFVcmwuc3BsaXQoJztiYXNlNjQsJylbMV07CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBpZiAoIShzY2hlbWEudHlwZSA9PT0gJ3N0cmluZycpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGRhdGEpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgIG5hbWU6IGZpbGUubmFtZSwKICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKGZpbGUubGFzdE1vZGlmaWVkKS50b0lTT1N0cmluZygpLAogICAgICAgICAgICAgIHNpemU6IGZpbGUuc2l6ZSwKICAgICAgICAgICAgICB0eXBlOiBmaWxlLnR5cGUsCiAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gZ2V0RmlsZVJlc3VsdChfeCwgX3gyLCBfeDMpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXB1dGVkOiB7CiAgICBpc0ZpbGVQcm9wOiBmdW5jdGlvbiBpc0ZpbGVQcm9wKCkgewogICAgICBpZiAodGhpcy5mdWxsU2NoZW1hLnR5cGUgPT09ICdzdHJpbmcnICYmICh0aGlzLmZ1bGxTY2hlbWEuY29udGVudE1lZGlhVHlwZSB8fCB0aGlzLmRpc3BsYXkgPT09ICdmaWxlJykpIHJldHVybiB0cnVlOwogICAgICBpZiAodGhpcy5mdWxsU2NoZW1hLnR5cGUgPT09ICdhcnJheScgJiYgdGhpcy5mdWxsU2NoZW1hLml0ZW1zICYmIHRoaXMuZnVsbFNjaGVtYS5pdGVtcy50eXBlID09PSAnc3RyaW5nJyAmJiAodGhpcy5mdWxsU2NoZW1hLml0ZW1zLmNvbnRlbnRNZWRpYVR5cGUgfHwgdGhpcy5kaXNwbGF5ID09PSAnZmlsZScgfHwgdGhpcy5mdWxsU2NoZW1hLml0ZW1zWyd4LWRpc3BsYXknXSA9PT0gJ2ZpbGUnKSkgcmV0dXJuIHRydWU7CiAgICAgIGlmICh0aGlzLmZ1bGxTY2hlbWEudHlwZSA9PT0gJ29iamVjdCcgJiYgKHRoaXMuZnVsbFNjaGVtYS5jb250ZW50TWVkaWFUeXBlIHx8IHRoaXMuZGlzcGxheSA9PT0gJ2ZpbGUnKSkgcmV0dXJuIHRydWU7CiAgICAgIGlmICh0aGlzLmZ1bGxTY2hlbWEudHlwZSA9PT0gJ2FycmF5JyAmJiB0aGlzLmZ1bGxTY2hlbWEuaXRlbXMgJiYgdGhpcy5mdWxsU2NoZW1hLml0ZW1zLnR5cGUgPT09ICdvYmplY3QnICYmICh0aGlzLmZ1bGxTY2hlbWEuaXRlbXMuY29udGVudE1lZGlhVHlwZSB8fCB0aGlzLmRpc3BsYXkgPT09ICdmaWxlJyB8fCB0aGlzLmZ1bGxTY2hlbWEuaXRlbXNbJ3gtZGlzcGxheSddID09PSAnZmlsZScpKSByZXR1cm4gdHJ1ZTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLmlzRmlsZVByb3AgJiYgIXRoaXMuZnVsbFNjaGVtYS53cml0ZU9ubHkpIHsKICAgICAgY29uc29sZS53YXJuKCdGaWxlIHByb3BlcnR5IHNob3VsZCBhbHdheXMgYmUgdXNlZCB3aXRoIHdyaXRlT25seSBhdHRyaWJ1dGUuIEZpbGVzIGFyZSB1cGxvYWRlZCBidXQgbm90IHJlYWQgaW4gZXhpc3RpbmcgZGF0YS4nKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlbmRlckZpbGVQcm9wOiBmdW5jdGlvbiByZW5kZXJGaWxlUHJvcChoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuaXNGaWxlUHJvcCkgcmV0dXJuOwoKICAgICAgdmFyIHByb3BzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmNvbW1vbkZpZWxkUHJvcHMpLCB0aGlzLmZ1bGxPcHRpb25zLmZpbGVJbnB1dFByb3BzKTsKCiAgICAgIGRlbGV0ZSBwcm9wcy52YWx1ZTsKICAgICAgdmFyIGF0dHJzID0ge307CiAgICAgIGlmICh0aGlzLmZ1bGxTY2hlbWEuY29udGVudE1lZGlhVHlwZSkgYXR0cnMuYWNjZXB0ID0gdGhpcy5mdWxsU2NoZW1hLmNvbnRlbnRNZWRpYVR5cGU7CiAgICAgIGlmICh0aGlzLmZ1bGxTY2hlbWEuaXRlbXMgJiYgdGhpcy5mdWxsU2NoZW1hLml0ZW1zLmNvbnRlbnRNZWRpYVR5cGUpIGF0dHJzLmFjY2VwdCA9IHRoaXMuZnVsbFNjaGVtYS5pdGVtcy5jb250ZW50TWVkaWFUeXBlOwogICAgICBpZiAodGhpcy5mdWxsU2NoZW1hLnR5cGUgPT09ICdhcnJheScpIGF0dHJzLm11bHRpcGxlID0gdHJ1ZTsKCiAgICAgIHZhciBjaGlsZHJlbiA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnJlbmRlclByb3BTbG90cyhoKSk7CgogICAgICB2YXIgb24gPSB7CiAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgX2NoYW5nZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZmlsZXMpIHsKICAgICAgICAgICAgdmFyIGNvbnRlbnRzLCBjb250ZW50OwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIGlmICghKF90aGlzLmZ1bGxTY2hlbWEudHlwZSA9PT0gJ2FycmF5JykpIHsKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChmaWxlcy5tYXAoZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRGaWxlUmVzdWx0KGZpbGUsIF90aGlzLmZ1bGxTY2hlbWEuaXRlbXMsIF90aGlzLmZ1bGxPcHRpb25zLmZpbGVzQXNEYXRhVXJsKTsKICAgICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgY29udGVudHMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaW5wdXQoY29udGVudHMpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy5jaGFuZ2UoY29udGVudHMpOwoKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEZpbGVSZXN1bHQoZmlsZXMsIF90aGlzLnJlc29sdmVkU2NoZW1hLCBfdGhpcy5mdWxsT3B0aW9ucy5maWxlc0FzRGF0YVVybCk7CgogICAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaW5wdXQoY29udGVudCk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLmNoYW5nZShjb250ZW50KTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICB9KSk7CgogICAgICAgICAgZnVuY3Rpb24gY2hhbmdlKF94NCkgewogICAgICAgICAgICByZXR1cm4gX2NoYW5nZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBjaGFuZ2U7CiAgICAgICAgfSgpCiAgICAgIH07CgogICAgICBpZiAodGhpcy5odG1sRGVzY3JpcHRpb24pIHsKICAgICAgICBjaGlsZHJlbi5wdXNoKHRoaXMucmVuZGVyVG9vbHRpcChoLCAnYXBwZW5kLW91dGVyJykpOwogICAgICB9CgogICAgICByZXR1cm4gW2goJ3YtZmlsZS1pbnB1dCcsIHsKICAgICAgICBwcm9wczogcHJvcHMsCiAgICAgICAgYXR0cnM6IGF0dHJzLAogICAgICAgIG9uOiBvbgogICAgICB9LCBjaGlsZHJlbildOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/@koumoul/vjsf/lib/mixins/FileProperty.js"],"names":["getFileDataUrl","file","Promise","resolve","reader","FileReader","onload","result","readAsDataURL","getFileResult","schema","filesAsDataUrl","data","type","properties","dataUrl","split","name","lastModified","Date","toISOString","size","computed","isFileProp","fullSchema","contentMediaType","display","items","created","writeOnly","console","warn","methods","renderFileProp","h","props","commonFieldProps","fullOptions","fileInputProps","value","attrs","accept","multiple","children","renderPropSlots","on","change","files","all","map","contents","input","resolvedSchema","content","htmlDescription","push","renderTooltip"],"mappings":"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","sourcesContent":["const getFileDataUrl = (file) => {\n  return new Promise(resolve => {\n    const reader = new FileReader()\n    reader.onload = () => resolve(reader.result)\n    reader.readAsDataURL(file)\n  })\n}\n\nconst getFileResult = async (file, schema, filesAsDataUrl) => {\n  let data = file\n  if (schema.type === 'string' || (schema.properties && schema.properties.data && schema.properties.data.type === 'string')) {\n    const dataUrl = await getFileDataUrl(file)\n    data = filesAsDataUrl ? dataUrl : dataUrl.split(';base64,')[1]\n  }\n  if (schema.type === 'string') return data\n  return {\n    name: file.name,\n    lastModified: new Date(file.lastModified).toISOString(),\n    size: file.size,\n    type: file.type,\n    data\n  }\n}\n\nexport default {\n  computed: {\n    isFileProp() {\n      if (this.fullSchema.type === 'string' &&\n        (this.fullSchema.contentMediaType || this.display === 'file')) return true\n      if (this.fullSchema.type === 'array' && this.fullSchema.items && this.fullSchema.items.type === 'string' &&\n        (this.fullSchema.items.contentMediaType || this.display === 'file' || this.fullSchema.items['x-display'] === 'file')) return true\n      if (this.fullSchema.type === 'object' &&\n        (this.fullSchema.contentMediaType || this.display === 'file')) return true\n      if (this.fullSchema.type === 'array' && this.fullSchema.items && this.fullSchema.items.type === 'object' &&\n        (this.fullSchema.items.contentMediaType || this.display === 'file' || this.fullSchema.items['x-display'] === 'file')) return true\n      return false\n    }\n  },\n  created() {\n    if (this.isFileProp && !this.fullSchema.writeOnly) {\n      console.warn('File property should always be used with writeOnly attribute. Files are uploaded but not read in existing data.')\n    }\n  },\n  methods: {\n    renderFileProp(h) {\n      if (!this.isFileProp) return\n      const props = { ...this.commonFieldProps, ...this.fullOptions.fileInputProps }\n      delete props.value\n      const attrs = {}\n      if (this.fullSchema.contentMediaType) attrs.accept = this.fullSchema.contentMediaType\n      if (this.fullSchema.items && this.fullSchema.items.contentMediaType) attrs.accept = this.fullSchema.items.contentMediaType\n      if (this.fullSchema.type === 'array') attrs.multiple = true\n      const children = [...this.renderPropSlots(h)]\n      const on = {\n        change: async files => {\n          if (this.fullSchema.type === 'array') {\n            const contents = await Promise.all(files.map(file => getFileResult(file, this.fullSchema.items, this.fullOptions.filesAsDataUrl)))\n            this.input(contents)\n            this.change(contents)\n          } else {\n            const content = await getFileResult(files, this.resolvedSchema, this.fullOptions.filesAsDataUrl)\n            this.input(content)\n            this.change(content)\n          }\n        }\n      }\n      if (this.htmlDescription) {\n        children.push(this.renderTooltip(h, 'append-outer'))\n      }\n\n      return [h('v-file-input', { props, attrs, on }, children)]\n    }\n  }\n}\n"]}]}