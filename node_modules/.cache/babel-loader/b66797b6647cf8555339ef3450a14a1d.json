{"remainingRequest":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/babel-loader/lib/index.js!/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/@koumoul/vjsf/lib/utils/json-refs.js","dependencies":[{"path":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/@koumoul/vjsf/lib/utils/json-refs.js","mtime":499162500000},{"path":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/cache-loader/dist/cjs.js","mtime":1612424882477},{"path":"/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/babel-loader/lib/index.js","mtime":1612424882354}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfdHlwZW9mIGZyb20gIi9Vc2Vycy9yYWdoYWRheml6L0Rlc2t0b3AvQURGL0NNUy9WdWVfSW50ZXJmYWNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwoKLy8gSW5zcGlyZWQgYnkgdGhpcyB3aXRob3V0IHRoZSBmcyByZWZlcmVuY2VzIDoKLy8gaHR0cHM6Ly9naXRodWIuY29tL2NvZGVyb2ZzYWx2YXRpb24vanNvbi1yZWYtbGl0ZS9ibG9iL21hc3Rlci9pbmRleC5qcwp2YXIgZXhwciA9IHJlcXVpcmUoJ3Byb3BlcnR5LWV4cHInKTsKCnZhciBqcmVmcyA9IHt9OwpqcmVmcy5jYWNoZSA9IHt9OwpqcmVmcy5leHRlbmR0b2tlbiA9ICckZXh0ZW5kJzsKanJlZnMucmVmdG9rZW4gPSAnJHJlZic7CmpyZWZzLnBhdGh0b2tlbiA9ICcjJzsKanJlZnMuZGVidWcgPSBmYWxzZTsKCmpyZWZzLmNsb25lID0gZnVuY3Rpb24gKG9iaikgewogIHZhciBrZXksIHRlbXA7CgogIGlmIChvYmogPT09IG51bGwgfHwgX3R5cGVvZihvYmopICE9PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7CiAgICByZXR1cm4gb2JqOwogIH0KCiAgdGVtcCA9IG9iai5jb25zdHJ1Y3RvcigpOwoKICBmb3IgKGtleSBpbiBvYmopIHsKICAgIHRlbXBba2V5XSA9IGpyZWZzLmNsb25lKG9ialtrZXldKTsKICB9CgogIHJldHVybiB0ZW1wOwp9OwoKanJlZnMuZmluZElkcyA9IGZ1bmN0aW9uIChqc29uLCBpZHMpIHsKICB2YXIgaWQsIGssIG9iaiwgdjsKICBpZCA9IGZhbHNlOwogIG9iaiA9IHt9OwoKICBmb3IgKGsgaW4ganNvbikgewogICAgdiA9IGpzb25ba107CgogICAgaWYgKGpzb24uaWQgIT0gbnVsbCkgewogICAgICBpZCA9IGpzb24uaWQ7CiAgICB9CgogICAgaWYgKGlkICYmIGsgIT09ICdpZCcpIHsKICAgICAgb2JqW2tdID0gdjsKICAgIH0KCiAgICBpZiAoX3R5cGVvZih2KSA9PT0gJ29iamVjdCcpIHsKICAgICAganJlZnMuZmluZElkcyh2LCBpZHMpOwogICAgfQogIH0KCiAgaWYgKGlkKSB7CiAgICBpZHNbaWRdID0gb2JqOwogICAgcmV0dXJuIG9iajsKICB9Cn07CgpqcmVmcy5nZXRfanNvbl9wb2ludGVyID0gZnVuY3Rpb24gKHJlZiwgcm9vdCwgcmVwbGFjZW1lbnRzKSB7CiAgdmFyIGV2YWxzdHIsIHJlc3VsdDsKICBldmFsc3RyID0gcmVmLnJlcGxhY2UoL1xcXC8vLCAnI1NMQVNIIycpLnJlcGxhY2UoL1wvL2csICcuJykucmVwbGFjZSgvI1NMQVNIIy8sICcvJyk7CiAgT2JqZWN0LmtleXMocmVwbGFjZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgIGV2YWxzdHIgPSBldmFsc3RyLnJlcGxhY2Uoa2V5LCByZXBsYWNlbWVudHNba2V5XSk7CiAgfSk7CiAgZXZhbHN0ciA9IGV2YWxzdHIucmVwbGFjZShuZXcgUmVnRXhwKCdeJyArIGpyZWZzLnBhdGh0b2tlbiksICcnKTsKCiAgaWYgKGV2YWxzdHJbMF0gPT09ICcuJykgewogICAgZXZhbHN0ciA9IGV2YWxzdHIuc3Vic3RyKDEsIGV2YWxzdHIubGVuZ3RoIC0gMSk7CiAgfQoKICB0cnkgewogICAgaWYgKGpyZWZzLmRlYnVnKSB7CiAgICAgIGNvbnNvbGUubG9nKCJldmFsdWF0aW5nICciICsgZXZhbHN0ciArICInIik7CiAgICB9CgogICAgcmVzdWx0ID0gZXhwci5nZXR0ZXIoZXZhbHN0cikocm9vdCk7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgcmVzdWx0ID0gJyc7CiAgfQoKICByZXR1cm4gcmVzdWx0Owp9OwoKanJlZnMucmVwbGFjZSA9IGZ1bmN0aW9uIChqc29uLCBpZHMsIHJvb3QsIHJlcGxhY2VtZW50cykgewogIHZhciBrLCByZWYsIHJlZjEsIHJlZjIsIHJlc3VsdHMsIHY7CiAgcmVzdWx0cyA9IFtdOwoKICBmb3IgKGsgaW4ganNvbikgewogICAgdiA9IGpzb25ba107CgogICAgaWYgKGpyZWZzLmRlYnVnICYmIHR5cGVvZiByZWYgPT09ICdzdHJpbmcnKSB7CiAgICAgIGNvbnNvbGUubG9nKCdjaGVja2luZyAnICsgayk7CiAgICB9CgogICAgaWYgKHYgIT0gbnVsbCAmJiB2W2pyZWZzLnJlZnRva2VuXSAhPSBudWxsKSB7CiAgICAgIHJlZiA9IHZbanJlZnMucmVmdG9rZW5dOwoKICAgICAgaWYgKGpyZWZzLmRlYnVnICYmIHR5cGVvZiByZWYgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgY29uc29sZS5sb2coJ2NoZWNraW5nICcgKyBrICsgJyAtPiAnICsgcmVmKTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdC5rZXlzKHYpLmxlbmd0aCA+IDEpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJqc29uLXJlZi1saXRlIGVycm9yOiBvYmplY3QgJyIgKyBrICsgIicgY29udGFpbnMgcmVmZXJlbmNlIGFzIHdlbGwgYXMgb3RoZXIgcHJvcGVydGllcy4uaWdub3JpbmcgcHJvcGVydGllcyIpOwogICAgICB9CgogICAgICBpZiAoQXJyYXkuaXNBcnJheShyZWYpKSB7CiAgICAgICAgcmVmID0ganJlZnMucmVwbGFjZShyZWYsIGlkcywgcm9vdCwgcmVwbGFjZW1lbnRzKTsKICAgICAgfSBlbHNlIGlmIChpZHNbcmVmXSAhPSBudWxsKSB7CiAgICAgICAganNvbltrXSA9IGlkc1tyZWZdOwogICAgICB9IGVsc2UgaWYgKFN0cmluZyhyZWYpLm1hdGNoKG5ldyBSZWdFeHAoJ14nICsganJlZnMucGF0aHRva2VuKSkpIHsKICAgICAgICBpZiAoanJlZnMuZGVidWcpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdjaGVja2luZyAnICsgcmVmICsgJyBwYXRodG9rZW4nKTsKICAgICAgICB9CgogICAgICAgIGpzb25ba10gPSBqcmVmcy5nZXRfanNvbl9wb2ludGVyKHJlZiwgcm9vdCwgcmVwbGFjZW1lbnRzKTsKICAgICAgfQoKICAgICAgaWYgKCgocmVmMSA9IGpzb25ba10pICE9IG51bGwgPyByZWYxLmxlbmd0aCA6IHZvaWQgMCkgIT0gbnVsbCAmJiAoKHJlZjIgPSBqc29uW2tdKSAhPSBudWxsID8gcmVmMi5sZW5ndGggOiB2b2lkIDApID09PSAwICYmIGpyZWZzLmRlYnVnKSB7CiAgICAgICAgcmVzdWx0cy5wdXNoKGNvbnNvbGUubG9nKHJlZiArICcgcmVmZXJlbmNlIG5vdCBmb3VuZCcpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHRzLnB1c2godm9pZCAwKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKF90eXBlb2YodikgPT09ICdvYmplY3QnKSB7CiAgICAgICAgcmVzdWx0cy5wdXNoKGpyZWZzLnJlcGxhY2UodiwgaWRzLCByb290LCByZXBsYWNlbWVudHMpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHRzLnB1c2godm9pZCAwKTsKICAgICAgfQogICAgfQogIH0KCiAgcmV0dXJuIHJlc3VsdHM7Cn07CgpqcmVmcy5leHRlbmQgPSBmdW5jdGlvbiAoanNvbiwgcmVwbGFjZW1lbnRzKSB7CiAgdmFyIGssIHJlZiwgcmVzdWx0cywgcmssIHJ2LCB2OwoKICBpZiAoX3R5cGVvZihqc29uKSA9PT0gJ29iamVjdCcpIHsKICAgIHJlc3VsdHMgPSBbXTsKCiAgICBmb3IgKGsgaW4ganNvbikgewogICAgICB2ID0ganNvbltrXTsKCiAgICAgIGlmIChrID09PSBqcmVmcy5leHRlbmR0b2tlbiAmJiB2W2pyZWZzLnJlZnRva2VuXSAhPSBudWxsKSB7CiAgICAgICAgcmVmID0ganJlZnMuZ2V0X2pzb25fcG9pbnRlcih2W2pyZWZzLnJlZnRva2VuXSwganNvbiwgcmVwbGFjZW1lbnRzKTsKCiAgICAgICAgZm9yIChyayBpbiB2KSB7CiAgICAgICAgICBydiA9IHZbcmtdOwoKICAgICAgICAgIGlmIChyayAhPT0ganJlZnMucmVmdG9rZW4pIHsKICAgICAgICAgICAgcmVmW3JrXSA9IHJ2OwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZGVsZXRlIGpzb25ba107CiAgICAgIH0KCiAgICAgIGlmIChfdHlwZW9mKHYpID09PSAnb2JqZWN0JykgewogICAgICAgIHJlc3VsdHMucHVzaCh2ID0ganJlZnMuZXh0ZW5kKHYpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHRzLnB1c2godm9pZCAwKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiByZXN1bHRzOwogIH0KfTsKCmpyZWZzLnJlc29sdmUgPSBmdW5jdGlvbiAoanNvbiwgcmVwbGFjZW1lbnRzKSB7CiAgdmFyIGlkczsKICBpZHMgPSB7fTsKICBqcmVmcy5maW5kSWRzKGpzb24sIGlkcyk7CgogIGlmIChqcmVmcy5kZWJ1ZyAmJiBPYmplY3Qua2V5cyhpZHMpLmxlbmd0aCkgewogICAgY29uc29sZS5kaXIoaWRzKTsKICB9CgogIGpyZWZzLnJlcGxhY2UoanNvbiwgaWRzLCBqc29uLCByZXBsYWNlbWVudHMpOwogIHJldHVybiBqc29uOwp9OwoKanJlZnMuZXZhbHVhdGUgPSBmdW5jdGlvbiAoanNvbiwgZGF0YSwgY2IpIHsKICB2YXIgaywgcmVmMSwgdjsKCiAgaWYgKGNiID09IG51bGwpIHsKICAgIGNiID0ganJlZnMuZXZhbHVhdGVTdHI7CiAgfQoKICByZWYxID0ganJlZnMuY2xvbmUoanNvbik7CgogIGZvciAoayBpbiByZWYxKSB7CiAgICB2ID0gcmVmMVtrXTsKCiAgICBpZiAodHlwZW9mIHYgPT09ICdzdHJpbmcnKSB7CiAgICAgIGpzb25ba10gPSBjYih2LCBkYXRhKTsKICAgIH0KCiAgICBpZiAoX3R5cGVvZih2KSA9PT0gJ29iamVjdCcpIHsKICAgICAganNvbltrXSA9IGpyZWZzLmV2YWx1YXRlKHYsIGRhdGEpOwogICAgfQogIH0KCiAgcmV0dXJuIGpzb247Cn07CgpqcmVmcy5ldmFsdWF0ZVN0ciA9IGZ1bmN0aW9uIChrLCBkYXRhKSB7CiAgdmFyIGl0ZW1zdHI7CgogIGlmICh0eXBlb2YgayAhPT0gJ3N0cmluZycpIHsKICAgIHJldHVybiBrOwogIH0KCiAgaWYgKGtbMF0gPT09ICd7JyAmJiBrW2subGVuZ3RoIC0gMV0gPT09ICd9JykgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIGV4cHIuZ2V0dGVyKGsucmVwbGFjZSgvXnsvLCAnJykucmVwbGFjZSgvfSQvLCAnJykpKGRhdGEpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSBlbHNlIHsKICAgIGl0ZW1zdHIgPSBrLnJlcGxhY2UoLyhceykoLio/KShcfSkvZywgZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHsKICAgICAgdmFyIHJlc3VsdDsKICAgICAgcmVzdWx0ID0gJyc7CgogICAgICBpZiAoZGF0YSA9PSBudWxsIHx8ICQyID09IG51bGwpIHsKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICB9CgogICAgICBpZiAoZGF0YVskMl0gIT0gbnVsbCAmJiB0eXBlb2YgZGF0YVskMl0gPT09ICdmdW5jdGlvbicpIHsKICAgICAgICByZXN1bHQgPSBkYXRhWyQyXSgpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChkYXRhWyQyXSAhPSBudWxsKSB7CiAgICAgICAgICByZXN1bHQgPSBkYXRhWyQyXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJDIgPSAkMi5yZXBsYWNlKG5ldyBSZWdFeHAoJ14nICsganJlZnMucGF0aHRva2VuICsgJ1wvJyksICcnKS5yZXBsYWNlKC9cLy9nLCAnLicpOwogICAgICAgICAgICByZXN1bHQgPSBleHByLmdldHRlcigkMikoZGF0YSk7CiAgICAgICAgICB9IGNhdGNoIChlcnJvcjEpIHsKICAgICAgICAgICAgZXJyID0gZXJyb3IxOwogICAgICAgICAgICByZXN1bHQgPSAnJzsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocmVzdWx0ID09IG51bGwpIHsKICAgICAgICAgICAgcmVzdWx0ID0gJyc7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBqcmVmcy5ldmFsdWF0ZVN0cihyZXN1bHQsIGRhdGEpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSk7CiAgICByZXR1cm4gaXRlbXN0cjsKICB9Cn07CgpleHBvcnQgZGVmYXVsdCBqcmVmczs="},{"version":3,"sources":["/Users/raghadaziz/Desktop/ADF/CMS/Vue_Interface/node_modules/@koumoul/vjsf/lib/utils/json-refs.js"],"names":["expr","require","jrefs","cache","extendtoken","reftoken","pathtoken","debug","clone","obj","key","temp","constructor","findIds","json","ids","id","k","v","get_json_pointer","ref","root","replacements","evalstr","result","replace","Object","keys","forEach","RegExp","substr","length","console","log","getter","error","ref1","ref2","results","Array","isArray","String","match","push","extend","rk","rv","resolve","dir","evaluate","data","cb","evaluateStr","itemstr","$0","$1","$2","error1","err"],"mappings":"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","sourcesContent":["// Inspired by this without the fs references :\n// https://github.com/coderofsalvation/json-ref-lite/blob/master/index.js\n\nvar expr = require('property-expr')\n\nconst jrefs = {}\njrefs.cache = {}\njrefs.extendtoken = '$extend'\njrefs.reftoken = '$ref'\njrefs.pathtoken = '#'\njrefs.debug = false\njrefs.clone = function(obj) {\n  var key, temp\n  if (obj === null || typeof obj !== 'object' || typeof obj === 'function') {\n    return obj\n  }\n  temp = obj.constructor()\n  for (key in obj) {\n    temp[key] = jrefs.clone(obj[key])\n  }\n  return temp\n}\njrefs.findIds = function(json, ids) {\n  var id, k, obj, v\n  id = false\n  obj = {}\n  for (k in json) {\n    v = json[k]\n    if (json.id != null) {\n      id = json.id\n    }\n    if (id && k !== 'id') {\n      obj[k] = v\n    }\n    if (typeof v === 'object') {\n      jrefs.findIds(v, ids)\n    }\n  }\n  if (id) {\n    ids[id] = obj\n    return obj\n  }\n}\njrefs.get_json_pointer = function(ref, root, replacements) {\n  var evalstr, result\n  evalstr = ref.replace(/\\\\\\//, '#SLASH#').replace(/\\//g, '.').replace(/#SLASH#/, '/')\n  Object.keys(replacements).forEach(key => {\n    evalstr = evalstr.replace(key, replacements[key])\n  })\n  evalstr = evalstr.replace(new RegExp('^' + jrefs.pathtoken), '')\n  if (evalstr[0] === '.') {\n    evalstr = evalstr.substr(1, evalstr.length - 1)\n  }\n  try {\n    if (jrefs.debug) {\n      console.log(\"evaluating '\" + evalstr + \"'\")\n    }\n    result = expr.getter(evalstr)(root)\n  } catch (error) {\n    console.error(error)\n    result = ''\n  }\n  return result\n}\njrefs.replace = function(json, ids, root, replacements) {\n  var k, ref, ref1, ref2, results, v\n  results = []\n  for (k in json) {\n    v = json[k]\n    if (jrefs.debug && typeof ref === 'string') {\n      console.log('checking ' + k)\n    }\n    if ((v != null) && (v[jrefs.reftoken] != null)) {\n      ref = v[jrefs.reftoken]\n      if (jrefs.debug && typeof ref === 'string') {\n        console.log('checking ' + k + ' -> ' + ref)\n      }\n      if (Object.keys(v).length > 1) {\n        console.error(\"json-ref-lite error: object '\" + k + \"' contains reference as well as other properties..ignoring properties\")\n      }\n      if (Array.isArray(ref)) {\n        ref = jrefs.replace(ref, ids, root, replacements)\n      } else if (ids[ref] != null) {\n        json[k] = ids[ref]\n      } else if (String(ref).match(new RegExp('^' + jrefs.pathtoken))) {\n        if (jrefs.debug) {\n          console.log('checking ' + ref + ' pathtoken')\n        }\n        json[k] = jrefs.get_json_pointer(ref, root, replacements)\n      }\n      if ((((ref1 = json[k]) != null ? ref1.length : void 0) != null) && ((ref2 = json[k]) != null ? ref2.length : void 0) === 0 && jrefs.debug) {\n        results.push(console.log(ref + ' reference not found'))\n      } else {\n        results.push(void 0)\n      }\n    } else {\n      if (typeof v === 'object') {\n        results.push(jrefs.replace(v, ids, root, replacements))\n      } else {\n        results.push(void 0)\n      }\n    }\n  }\n  return results\n}\njrefs.extend = function(json, replacements) {\n  var k, ref, results, rk, rv, v\n  if (typeof json === 'object') {\n    results = []\n    for (k in json) {\n      v = json[k]\n      if (k === jrefs.extendtoken && (v[jrefs.reftoken] != null)) {\n        ref = jrefs.get_json_pointer(v[jrefs.reftoken], json, replacements)\n        for (rk in v) {\n          rv = v[rk]\n          if (rk !== jrefs.reftoken) {\n            ref[rk] = rv\n          }\n        }\n        delete json[k]\n      }\n      if (typeof v === 'object') {\n        results.push(v = jrefs.extend(v))\n      } else {\n        results.push(void 0)\n      }\n    }\n    return results\n  }\n}\njrefs.resolve = function(json, replacements) {\n  var ids\n  ids = {}\n  jrefs.findIds(json, ids)\n  if (jrefs.debug && Object.keys(ids).length) {\n    console.dir(ids)\n  }\n  jrefs.replace(json, ids, json, replacements)\n  return json\n}\njrefs.evaluate = function(json, data, cb) {\n  var k, ref1, v\n  if (cb == null) {\n    cb = jrefs.evaluateStr\n  }\n  ref1 = jrefs.clone(json)\n  for (k in ref1) {\n    v = ref1[k]\n    if (typeof v === 'string') {\n      json[k] = cb(v, data)\n    }\n    if (typeof v === 'object') {\n      json[k] = jrefs.evaluate(v, data)\n    }\n  }\n  return json\n}\njrefs.evaluateStr = function(k, data) {\n  var itemstr\n  if (typeof k !== 'string') {\n    return k\n  }\n  if (k[0] === '{' && k[k.length - 1] === '}') {\n    try {\n      return expr.getter(k.replace(/^{/, '').replace(/}$/, ''))(data)\n    } catch (error) {\n      return null\n    }\n  } else {\n    itemstr = k.replace(/(\\{)(.*?)(\\})/g, function($0, $1, $2) {\n      var result\n      result = ''\n      if ((data == null) || ($2 == null)) {\n        return result\n      }\n      if ((data[$2] != null) && typeof data[$2] === 'function') {\n        result = data[$2]()\n      } else {\n        if (data[$2] != null) {\n          result = data[$2]\n        } else {\n          try {\n            $2 = $2.replace(new RegExp('^' + jrefs.pathtoken + '\\/'), '').replace(/\\//g, '.')\n            result = expr.getter($2)(data)\n          } catch (error1) {\n            err = error1\n            result = ''\n          }\n          if (result == null) {\n            result = ''\n          }\n        }\n      }\n      jrefs.evaluateStr(result, data)\n      return result\n    })\n    return itemstr\n  }\n}\n\nexport default jrefs\n"]}]}